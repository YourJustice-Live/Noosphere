type AvatarNftEntity @entity {
  id: ID! # token id
  owner: Bytes! # account address
  uri: String # metadata uri
  reputations: [AvatarNftReputationEntity!]! @derivedFrom(field: "token")
}

type AvatarNftReputationEntity @entity {
  id: ID! # combintation of token id and domain id
  token: AvatarNftEntity!
  domain: Int!
  negativeRating: BigInt
  positiveRating: BigInt
}

type JurisdictionParticipantEntity @entity {
  id: ID! # account address
  isAdmin: Boolean
  isMember: Boolean
  isJudge: Boolean
}

type JurisdictionRuleEntity @entity {
  id: ID!
  about: ActionEntity!
  affected: String
  uri: String
  negation: Boolean
  effectsEnvironmental: Int
  effectsPersonal: Int
  effectsSocial: Int
  effectsProfessional: Int
  confirmationRuling: String
  confirmationEvidence: Boolean
  confirmationWitness: BigInt
}

type JurisdictionCaseEntity @entity {
  id: ID! # case id
  contractAddress: Bytes!
}

type ActionEntity @entity {
  id: ID! # guid
  subject: String
  verb: String
  object: String
  tool: String
  uri: String
  rules: [JurisdictionRuleEntity!]! @derivedFrom(field: "about")
}
